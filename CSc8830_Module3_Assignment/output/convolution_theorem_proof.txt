
================================================================================
CSc 8830: Computer Vision - Module 3 Assignment
IMAGE BLURRING: MATHEMATICAL PROOF OF CONVOLUTION THEOREM
================================================================================


MATHEMATICAL DERIVATION: Convolution Theorem
═════════════════════════════════════════════

DEFINITION (2D Convolution):
────────────────────────────

The convolution of two functions f(x,y) and g(x,y) is defined as:

    (f ⊗ g)(x,y) = ∫_{-∞}^{∞} ∫_{-∞}^{∞} f(u,v) · g(x-u, y-v) du dv

In discrete form:

    (f ⊗ g)[m,n] = Σ_i Σ_j f[i,j] · g[m-i, n-j]


DEFINITION (Fourier Transform):
────────────────────────────────

For a 2D function f(x,y):

    F(u,v) = ∫_{-∞}^{∞} ∫_{-∞}^{∞} f(x,y) e^{-j2π(ux+vy)} dx dy

And the inverse transform:

    f(x,y) = ∫_{-∞}^{∞} ∫_{-∞}^{∞} F(u,v) e^{j2π(ux+vy)} du dv


CONVOLUTION THEOREM PROOF:
──────────────────────────

Let y(x,y) = f(x,y) ⊗ g(x,y)

Taking the Fourier transform of both sides:

    Y(u,v) = FT{f(x,y) ⊗ g(x,y)}

         = ∫_{-∞}^{∞} ∫_{-∞}^{∞} [∫_{-∞}^{∞} ∫_{-∞}^{∞} f(a,b)·g(x-a,y-b) da db] e^{-j2π(ux+vy)} dx dy

Change of variables: α = x - a, β = y - b
                     x = α + a, y = β + b
                     dx = dα, dy = dβ

    Y(u,v) = ∫_{-∞}^{∞} ∫_{-∞}^{∞} f(a,b) [∫_{-∞}^{∞} ∫_{-∞}^{∞} g(α,β) e^{-j2π(u(α+a)+v(β+b))} dα dβ] da db

         = ∫_{-∞}^{∞} ∫_{-∞}^{∞} f(a,b) e^{-j2π(ua+vb)} [∫_{-∞}^{∞} ∫_{-∞}^{∞} g(α,β) e^{-j2π(uα+vβ)} dα dβ] da db

         = [∫_{-∞}^{∞} ∫_{-∞}^{∞} f(a,b) e^{-j2π(ua+vb)} da db] × [∫_{-∞}^{∞} ∫_{-∞}^{∞} g(α,β) e^{-j2π(uα+vβ)} dα dβ]

         = F(u,v) × G(u,v)


CONCLUSION:
───────────

    FT{f ⊗ g} = FT{f} × FT{g}

Or equivalently:

    f ⊗ g = IFT{FT{f} × FT{g}}

This is the CONVOLUTION THEOREM!


PHYSICAL INTERPRETATION:
────────────────────────

• Spatial Domain: Convolution describes how a filter affects an image point-by-point
• Frequency Domain: Multiplication shows how the filter modifies frequency components
• Trade-off:
    - Spatial: Intuitive, suitable for small kernels
    - Frequency: Efficient for large kernels (computational advantage with FFT)


COMPUTATIONAL COMPLEXITY:
─────────────────────────

For N×N image and M×M kernel:

Direct Convolution (Spatial):
    Time Complexity: O(N² × M²)
    Space Complexity: O(N²)
    
FFT-based Convolution (Frequency):
    Time Complexity: O(N² log N) using FFT algorithm
    Space Complexity: O(N²)
    
Advantage of FFT for large kernels:
    For M >> log(N): FFT-based is faster
    Example: N=1024, M=256
        Direct: ~1024² × 256² ≈ 68 billion operations
        FFT: ~1024² × log(1024) ≈ 10 million operations
        Speedup: ~6800×


KEY PROPERTIES:
───────────────

1. Commutativity:     f ⊗ g = g ⊗ f

2. Associativity:     f ⊗ (g ⊗ h) = (f ⊗ g) ⊗ h

3. Distributivity:    f ⊗ (g + h) = (f ⊗ g) + (f ⊗ h)

4. Zero padding:      Must zero-pad to avoid circular convolution when using FFT

5. Frequency shift:    Shifting in frequency domain ↔ Phase modulation in space

6. Scaling:           If f ⊗ g = y, then (af) ⊗ (bg) = ab·y


APPLICATION TO IMAGE BLURRING:
──────────────────────────────

Image blurring is a convolution operation:

    Blurred_Image = Image ⊗ Blur_Kernel

Using the Convolution Theorem:

    Blurred_Image = IFFT{FFT{Image} × FFT{Blur_Kernel}}

This allows efficient implementation of image blurring filters.


EXAMPLE BLUR KERNELS IN FREQUENCY DOMAIN:
──────────────────────────────────────────

1. Box Filter:
   H(u,v) = sinc(u·width/2) · sinc(v·width/2)
   Effect: Attenuates high frequencies uniformly

2. Gaussian Filter:
   H(u,v) = exp(-(u² + v²)/(2σ²))
   Effect: Smooth roll-off of high frequencies

3. Motion Blur:
   H(u,v) = sinc(u·length) for blur direction
   Effect: Creates streak-like artifacts at specific angles



================================================================================
NUMERICAL VERIFICATION
================================================================================


NUMERICAL PROOF: 1D Convolution Theorem
════════════════════════════════════════

Example 1D Convolution:
───────────────────────

Signal:  s = [1.0, 2.0, 3.0, 2.0, 1.0]
Kernel:  h = [0.333, 0.333, 0.333]  (averaging filter)

Method 1: Direct Convolution (Spatial Domain)
──────────────────────────────────────────────
s(n) ⊗ h(n) - manual calculation:

For each output position, multiply and sum:
    y[0] = 1.0 × 0.333 = 0.333
    y[1] = 1.0×0.333 + 2.0×0.333 = 1.0
    y[2] = 1.0×0.333 + 2.0×0.333 + 3.0×0.333 = 2.0
    y[3] = 2.0×0.333 + 3.0×0.333 + 2.0×0.333 = 2.333
    y[4] = 3.0×0.333 + 2.0×0.333 + 1.0×0.333 = 2.0
    y[5] = 2.0×0.333 + 1.0×0.333 = 1.0
    y[6] = 1.0×0.333 = 0.333

Result (Direct):    [0.3333 1.     2.     2.3333 2.     1.     0.3333]

Method 2: FFT-based Convolution (Frequency Domain)
────────────────────────────────────────────────────
1. Compute FFT of signal:  S(k) = FFT{s}
2. Compute FFT of kernel:  H(k) = FFT{h}
3. Multiply in frequency:  Y(k) = S(k) × H(k)
4. Inverse FFT:            y(n) = IFFT{Y(k)}

Result (FFT):       [0.3333 1.     2.     2.3333 2.     1.     0.3333]

Comparison:
───────────
Difference (Max Abs): 2.38e-07
Status:               ✓ EQUIVALENT (within numerical precision)

Conclusion:
───────────
Both methods produce the same result!
✓ Direct spatial convolution = FFT-based multiplication

This proves the CONVOLUTION THEOREM:
    Convolution in space ↔ Multiplication in frequency domain



================================================================================
CONCLUSION
================================================================================

The Convolution Theorem is VERIFIED both mathematically and numerically:

1. MATHEMATICAL PROOF:
   • Convolution in spatial domain = Multiplication in frequency domain
   • Proven using change of variables in integral calculus
   • Fundamental theorem in signal processing and image processing

2. NUMERICAL VERIFICATION:
   • Both methods (direct convolution and FFT-based) produce identical results
   • Maximum error is within machine epsilon (numerical precision limits)

3. PRACTICAL APPLICATION:
   • Image blurring is efficiently computed using FFT-based convolution
   • Spatial domain provides intuition; frequency domain provides efficiency
   • Trade-off: For small kernels, direct convolution is simpler
             For large kernels, FFT-based convolution is faster

4. KEY INSIGHT:
   • Convolution = Multiplication under Fourier Transform
   • This duality is the foundation of modern signal processing
   • Enables efficient implementation of many image processing operations

================================================================================

Generated: February 2, 2026
Author: CSc 8830 Student
Submission: Module 3 Assignment

